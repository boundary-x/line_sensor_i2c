<xml xmlns="https://developers.google.com/blockly/xml"><variables></variables><block type="pxt-on-start" id="m-=ZP^DF=D+HS%[,rz6_" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="l^%G%]ErccV8{NpQvPyt"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace emkfLineSensor {" line1="" line2="    const ADDR = 0x50" line3="" line4="    // 16bit 읽기" line5="    function read16(reg: number): number {" line6="        pins.i2cWriteNumber(ADDR, reg, NumberFormat.UInt8BE)" line7="        let hi = pins.i2cReadNumber(ADDR, NumberFormat.UInt8BE)" line8="        let lo = pins.i2cReadNumber(ADDR + 1, NumberFormat.UInt8BE)" line9="        return (hi &lt;&lt; 8) | lo" line10="    }" line11="" line12="    /**" line13="     * Read all 5 raw sensor values" line14="     */" line15="    //% block=&quot;Read RAW line sensor values&quot;" line16="    export function readRaw(): number[] {" line17="        let s1 = read16(0x10)" line18="        let s2 = read16(0x12)" line19="        let s3 = read16(0x14)" line20="        let s4 = read16(0x16)" line21="        let s5 = read16(0x18)" line22="        return [s1, s2, s3, s4, s5]" line23="    }" line24="" line25="    /**" line26="     * Convert to digital using threshold" line27="     */" line28="    //% block=&quot;Read digital (threshold %threshold)&quot;" line29="    export function readDigital(threshold: number = 150): boolean[] {" line30="        let raw = readRaw()" line31="        let out: boolean[] = []" line32="        for (let i = 0; i &lt; 5; i++) {" line33="            out.push(raw[i] &lt; threshold)" line34="        }" line35="        return out" line36="    }" line37="" line38="    /**" line39="     * Show sensor values on micro:bit LED" line40="     */" line41="    //% block=&quot;Show sensor on LED (threshold %threshold)&quot;" line42="    export function showLED(threshold: number = 150): void {" line43="        let dig = readDigital(threshold)" line44="        basic.clearScreen()" line45="" line46="        for (let col = 0; col &lt; 5; col++) {" line47="            if (dig[col]) {" line48="                for (let y = 0; y &lt; 5; y++) {" line49="                    led.plot(col, y)" line50="                }" line51="            }" line52="        }" line53="    }" line54="}" numlines="55"></mutation></block></statement></block></xml>